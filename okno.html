<!-- KusOS 2023 r. -->

<!DOCTYPE html>
<html lang="pl">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>KusOS - wersja demonstracyjna</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.js"
        integrity="sha512-+k1pnlgt4F1H8L7t3z95o3/KO+o78INEcXTbnoJQ/F2VqDVhWoaiVml/OEHv9HsVgxUaVW+IbiZPUJQfF/YxZw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"
        integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css"
        integrity="sha512-ELV+xyi8IhEApPS/pSj66+Jiw+sOT1Mqkzlh8ExXihe4zfqbWkxPRi8wptXIO9g73FSlhmquFlUOuMSoXz5IRw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"
        integrity="sha512-0bEtK0USNd96MnO4XhH8jhv3nyRF0eK87pJke6pkYf3cM0uDIhNJy9ltuzqgypoIFXw3JSuiy04tVk4AjpZdZw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        body {
            position: absolute;
            background: url(./wallpaper.jpg) bottom;
            color: #eeeeee;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            font-size: 14px;
            text-shadow: 0 0 #00000042;
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            justify-content: center;
            align-items: center;
        }

        .okno,
        .context-menu {
            min-width: 400px;
            height: max-content;
            width: max-content;
            background-color: #3d3d3d;
            border-radius: 5px;
            user-select: none;
            border: 1px solid #00000000;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.438);
            margin: 0;
            transition: opacity 200ms, transform 300ms;
            z-index: 1000;
            position: absolute;
        }

        .light .okno,
        .light .context-menu {
            background-color: #eeeeee;
            color: #111111;
        }

        .light .context-menu .przyciskMenu {
            background-color: rgb(212, 212, 212);
            color: #111111;
        }

        .przyciskMenu,
        .light .context-menu .przyciskMenu {
            display: flex;
            align-items: center;
            font-size: 16px;
            width: 100%;
            height: 30px;
            padding-left: 5px;
            border: 1px solid rgb(71, 71, 71);
            margin-bottom: 5px;
            justify-content: space-between;
        }

        .przyciskMenu {
            background-color: #424242;
            border-radius: 4px;
            color: #eeeeee;
        }

        .light .context-menu .przyciskMenu {
            background-color: rgb(228, 228, 228);
            border: 1px solid rgb(238, 238, 238);
            color: #111111;
        }

        .przyciskMenu:hover,
        .light .context-menu .przyciskMenu:hover {
            transition: background-color 0.1s;
            background-color: rgb(54, 54, 54);
            color: #eeeeee;
        }

        .light .context-menu .przyciskMenu:hover {
            background-color: rgb(197, 197, 197);
            color: #111111;
        }

        .przyciskMenu:active,
        .light .context-menu .przyciskMenu:active {
            transition: background-color 0.05s;
            background-color: rgb(43, 43, 43);
        }

        .light .context-menu .przyciskMenu:active {
            background-color: rgb(167, 167, 167);
            color: #111111;
        }

        .button-pasek,
        .przycisk,
        .light .okno .przyciski .przycisk {
            width: 32px;
            border-radius: 5px;
            text-align: center;
            float: right;
            justify-content: center;
            margin-left: 2px;
            margin-right: 2px;
            color: #DFDFDF;
            display: flex;
            align-items: center;
            height: 32px;
            text-shadow: 1px 1px 3px #111111;
        }

        .light .okno .przyciski .przycisk {
            background-color: rgb(212, 212, 212);
            color: #111111;
            font-size: 15px;
        }

        .oknoActive {
            border: 1px solid #8a8a8a;
        }

        .light .oknoActive {
            border: 1px solid #1b6ac5;
        }

        .light .okno .pasek {
            background-color: #1b6ac5;
            color: white;
            border-bottom: 1px solid #397ece;
            text-shadow: 1px 1px 3px #111111;
        }

        .light .okno .pasek .button-pasek {
            box-shadow: 0 0 3px #111111;
        }

        .light .okno .pasek .close {
            background-color: #ec2020;
        }

        .light .okno .pasek .minimalizuj {
            background-color: #2061ec;
        }

        .pasek {
            background-color: #333333;
            border-radius: 5px 5px 0 0;
            padding: 5px 5px 5px 10px;
            margin-bottom: 5px;
            border-bottom: 1px solid #464646;
            font-weight: bold;
            font-size: 17px;
            display: inline-flex;
            width: -webkit-fill-available;
            align-items: center;
            justify-content: space-between;
        }

        .pasekBlur {
            background-color: #3d3d3d;
        }

        .light .okno .pasekBlur {
            background-color: #478ddd;
        }

        .button-pasek,
        .przycisk,
        .light .okno .przyciski .przycisk {
            width: 32px;
            border-radius: 5px;
            text-align: center;
            float: right;
            justify-content: center;
            margin-left: 2px;
            margin-right: 2px;
            color: #DFDFDF;
            display: flex;
            align-items: center;
            height: 32px;
            text-shadow: 1px 1px 3px #111111;
        }

        .przycisk,
        .light .okno .przyciski .przycisk {
            width: 100px;
            height: 30px;
            border: 1px solid rgb(78, 78, 78);
            background-color: rgb(102, 102, 102);
            margin: 5px;
        }

        .light .okno .przyciski .przycisk {
            background-color: rgb(212, 212, 212);
            color: #111111;
            font-size: 15px;
        }

        .przycisk:hover,
        .light .okno .przyciski .przycisk:hover {
            transition: background-color 0.1s;
            background-color: rgb(62, 73, 226);
            color: #eeeeee;
        }

        .przycisk:active,
        .light .okno .przyciski .przycisk:active {
            transition: background-color 0.05s;
            background-color: rgb(60, 68, 170);
            transform: scale(0.98);
        }

        .button-pasek:hover {
            transition: background-color 0.2s;
            color: #eeeeee;
        }

        .close:hover {
            background-color: rgb(218, 40, 40);
        }

        .minimalizuj:hover {
            background-color: rgb(40, 117, 218);
        }

        .button-pasek:active {
            transition: background-color 0.05s;
            color: #eeeeee;
            transform: scale(0.98);
        }

        .close:active {
            background-color: rgb(180, 34, 34);
        }

        .minimalizuj:active {
            background-color: rgb(34, 73, 180);
        }

        .content {
            padding: 20px;
            display: flex;
            align-items: center;
        }

        .przyciski,
        .context-menu {
            display: flex;
            justify-content: center;
            width: auto;
            height: 40px;
            margin-bottom: 10px;
        }

        .context-menu {
            flex-direction: column;
            height: auto;
            padding: 5px 10px 5px 5px;
        }

        .ikona {
            font-size: 40px;
        }

        .powiadomienie {
            display: none;
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: #fff;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.438);
        }

        .light .powiadomienie {
            background-color: #eeeeee;
            color: #3d3d3d;
        }

        .pasekzadan {
            display: flex;
            align-items: center;
            position: absolute;
            left: 0;
            top: 0;
            background-color: #1b6ac5;
            backdrop-filter: blur(10px);
            width: 100%;
            height: 50px;
            user-select: none;
        }

        .zegar {
            display: grid;
            justify-items: flex-end;
            float: right;
            position: absolute;
            right: 20px;
        }

        button {
            user-select: none;
        }

        .przelaczniki {
            display: inline-flex;
        }

        .pasekprzyciski {
            display: flex;
        }

        .pasekprzycisk {
            background-color: #226ec5;
            backdrop-filter: blur(10px);
            border: 1px solid #245ea0;
            height: 40px;
            width: 200px;
            border-radius: 4px;
            margin-left: 5px;
            display: flex;
            align-items: center;
            padding-left: 5px;
            font-size: 16px;
            transition: all 0.1s;
        }

        .pasekprzycisk:hover {
            background-color: #3973b6;
        }

        .pasekprzycisk:active {
            background-color: #316cb1;
            transform: scale(0.98);
        }

        .pasekprzyciskOnScreen {
            background-color: #1e5799;
            font-size: 17px;
            text-shadow: 2px 2px 5px #111111;
        }

        .pasekprzyciskActive {
            background-color: #0e3d72;
            border-color: #cde4ff62;
        }

        .shortcut {
            color: #a0a0a0;
            float: right;
            margin-right: 5px;
        }

        .pulpit {
            display: flex;
            width: 100%;
            height: 100%;
        }

        .wersja {
            position: absolute;
            bottom: 0;
            right: 0;
            margin: 5px;
            user-select: none;
            text-align: right;
        }

        .wersja img {
            width: 100px;
            -webkit-user-drag: none;
        }

        .wersja img:hover {
            transition: filter 200ms;
            filter: contrast(0.5);
            cursor: pointer;
        }

        .toggleOkna {
            background-color: #3973b6;
            position: absolute;
            right: 0;
            height: 100%;
            width: 10px;
        }
    </style>

    <script>
        const dlugoscAnimacji = 250;

        var zindex = 1;
        var oknoXpos = [];
        var oknoYpos = [];

        $(document).on('keydown', handleShortcuts);

        function wolneId() {
            var idWolne = 0;

            do {
                idWolne = idWolne + 1;
            } while($("#okno" + idWolne).length === 1);

            return idWolne;
        }

        function setClickState(name, isEnabled) {
            const pointerEventsValue = isEnabled ? "auto" : "none";
            $(name).css("pointer-events", pointerEventsValue);
        }

        function closeModal(oknoId, min) {
            const $przycisk = $('[id^="oknoprzycisk' + oknoId + '"]');
            const $blok = $('[id^="okno' + oknoId + '"]');
            const $context = $('[id^="context-menuOkno' + oknoId + '"]');
            $przycisk.removeClass("pasekprzyciskOnScreen");
            $blok.css({
                "opacity": "0%",
                "transform": "scale(0.9) rotateX(20deg)",
            });
            setClickState($blok, false);
            setTimeout(function () {
                $blok.hide();
                $blok.css({
                    "width": "",
                    "height": ""
                });
            }, dlugoscAnimacji);
            if (min != 1) {
                $przycisk.css({
                    "opacity": "0%",
                    "transform": "scale(0.9) rotateX(20deg)"
                });
                setClickState($przycisk, false);
                setTimeout(function () {
                    $przycisk.hide();
                }, dlugoscAnimacji);
            }
            setTimeout(function () {
                $blok.remove();
                $przycisk.remove();
                $context.remove();
            }, dlugoscAnimacji);
        }

        function handleShortcuts(event) {
            if (event.shiftKey && event.key === 'F4') {
                closeModal(parseInt($(".oknoActive").prop("id").substr($(".oknoActive").prop("id").length - 1)), 0);
                $(".context-menu").hide();
            }

            else if (event.shiftKey && event.key === 'M') {
                minimalizujModal(parseInt($(".oknoActive").prop("id").substr($(".oknoActive").prop("id").length - 1)));
                $(".context-menu").hide();
            }

            else if (event.key === 'Escape') {
                $(".context-menu").hide();
            }
        }

        function otworzOkno(nazwaJson) {
            $("body").css("cursor", "wait");

            async function wczytajDaneZJSON() {
                try {
                    const response = await fetch(nazwaJson);
                    const dane = await response.json();
                    return dane;
                } catch (error) {
                    oknoIlosc = wolneId();

                    $(".pasekprzyciski").append("<div class='pasekprzycisk pasekprzyciskOnScreen' id='oknoprzycisk" + oknoIlosc + "' style='order: " + oknoIlosc + ";'onclick='minimalizujPrzycisk(" + oknoIlosc + ")'>🛑 Wystąpił błąd</div>");
                    $(".powiadomienie").before("<div id='okno" + oknoIlosc + "' class='okno resizable' onmousedown='fokus(" + oknoIlosc + ")' style='opacity: 0; transform: scale(0.9) rotateX(20deg); pointer-events: none; display: none;'><div class='pasek'>🛑 Wystąpił błąd<div class='przelaczniki'><div class='button-pasek minimalizuj' title='Minimalizuj' onclick='minimalizujModal(" + oknoIlosc + ")'>_</div><div class='button-pasek close' title='Zamnkij' onclick='closeModal(" + oknoIlosc + ", 0)'>⨉</div></div></div><div class='content'><span class='ikona'>🛑</span>Wystąpił błąd podczas uruchamiania: " + error +"</div></div><div class='przyciski'><div id='OK' class='przycisk' onclick='closeModal(" + oknoIlosc + ")'>OK</div></div></div>");
                    $(".powiadomienie").before("<div class='context-menu' id='context-menuOkno" + oknoIlosc + "'><div class='przyciskMenu' onclick='minimalizujModal(" + oknoIlosc + ")'><div>Minimalizuj</div><div class='shortcut'>Shift + M</div></div><div class='przyciskMenu' onclick='closeModal(" + oknoIlosc + ", 0)'><div>Zamnkij</div><div class='shortcut'>Shift + F4</div></div></div>");
                    openModal(oknoIlosc, 0);
                }
            }

            function stworzOkno(dane) {
                const { tytul, ikona, resizable, content } = dane;
                oknoIlosc = wolneId();

                $(".pasekprzyciski").append("<div class='pasekprzycisk pasekprzyciskOnScreen' id='oknoprzycisk" + oknoIlosc + "' style='order: " + oknoIlosc + ";'onclick='minimalizujPrzycisk(" + oknoIlosc + ")'>" + ikona + " " + tytul + "</div>");
                $(".powiadomienie").before("<div id='okno" + oknoIlosc + "' class='okno resizable' onmousedown='fokus(" + oknoIlosc + ")' style='opacity: 0; transform: scale(0.9) rotateX(20deg); pointer-events: none; display: none;' resizable='" + resizable + "'><div class='pasek'>" + ikona + " " + tytul + "<div class='przelaczniki'><div class='button-pasek minimalizuj' title='Minimalizuj' onclick='minimalizujModal(" + oknoIlosc + ")'>_</div><div class='button-pasek close' title='Zamnkij' onclick='closeModal(" + oknoIlosc + ", 0)'>⨉</div></div></div>" + content + "</div>");
                $(".powiadomienie").before("<div class='context-menu' id='context-menuOkno" + oknoIlosc + "'><div class='przyciskMenu' onclick='minimalizujModal(" + oknoIlosc + ")'><div>Minimalizuj</div><div class='shortcut'>Shift + M</div></div><div class='przyciskMenu' onclick='closeModal(" + oknoIlosc + ", 0)'><div>Zamnkij</div><div class='shortcut'>Shift + F4</div></div></div>");
                
                $("#okno" + oknoIlosc + " .przyciski #OK").attr("onclick", "closeModal(" + oknoIlosc +")");
                openModal(oknoIlosc, 0);
            }

            wczytajDaneZJSON().then((dane) => {
                dane.forEach((okno) => stworzOkno(okno));
            });
        }

        function openModal(oknoId, przy) {

            const $przycisk = $('[id^="oknoprzycisk' + oknoId + '"]');
            const $context = $("#context-menuOkno" + oknoId);
            const $blok = $('[id^="okno' + oknoId + '"]');

            oknoIlosc++;
            $przycisk.addClass("pasekprzyciskOnScreen");

            $przycisk.show();

            var windowWidth = $(window).width();
            var windowHeight = $(window).height();
            var divWidth = $blok.outerWidth();
            var divHeight = $blok.outerHeight();

            var leftValue = (windowWidth - divWidth) / 2;
            var topValue = (windowHeight - divHeight) / 2;

            if (przy == 0) {
                $blok.css({
                    "left": leftValue,
                    "top": topValue
                });
                $przycisk.show();
                setClickState($przycisk, true);
                setTimeout(function () {
                    $przycisk.css({
                        "opacity": "100%",
                        "transform": "scale(1) rotateX(0deg)"
                    });
                }, 1);
            }
            $blok.show();
            setClickState($blok, true);
            fokus(oknoId);
            setTimeout(function () {
                $blok.css({
                    "opacity": "100%",
                    "transform": "scale(1) rotateX(0deg)"
                });
            }, 1);

            if ($blok.attr("resizable") == "true") {
                $blok.resizable({
                    minHeight: divHeight,
                    minWidth: divWidth,
                    handles: "n, e, s, w, ne, se, sw, nw",
                    autoHide: true
                });
            }
            $("#okno" + oknoId).css("z-index", zindex);

            $(document).ready(function () {
                $(".pasek").on("contextmenu", function (event) {
                    event.preventDefault();

                    var posX = event.pageX;
                    var posY = event.pageY;

                    $(".context-menu").hide();

                    $context.show();
                    $context.css({
                        "left": posX + "px",
                        "top": posY + "px",
                    });

                    setTimeout(function () {
                        $context.css({
                            "opacity": "100%"
                        });
                    }, 1);
                });

                $(".przyciskMenu").on("click", function (event) {
                    $(".context-menu").hide();
                })
            });

            $(function () {
                $(".okno").draggable({ handle: ".pasek", cancel: ".button-pasek", scroll: false });
            });

            $("body").css("cursor", "auto");
        }

        function toggleModal(oknoId, callback) {
            const $przycisk = $('[id^="oknoprzycisk' + oknoId + '"]');

            if (callback) {
                $przycisk.attr("onclick", callback);
            }
        }

        function przywrocModal(oknoId) {
            if (typeof oknoId === 'undefined') {
                var oknoIdtoggleOkna = 1;
                $('[id^="okno"]').each(function () {
                    przywrocOkno(oknoIdtoggleOkna);
                    oknoIdtoggleOkna++;
                });
            } else {
                przywrocOkno(oknoId);
            }
        }

        function przywrocOkno(oknoId) {
            const $przycisk = $('[id^="oknoprzycisk' + oknoId + '"]');
            const $blok = $('[id^="okno' + oknoId + '"]');

            setClickState($przycisk, false);
            fokus(oknoId);
            $blok.animate({
                left: oknoXpos[oknoId],
                top: oknoYpos[oknoId]
            }, dlugoscAnimacji);
            $blok.show();
            setClickState($blok, true);
            $przycisk.addClass("pasekprzyciskOnScreen");
            setTimeout(function () {
                $blok.css({
                    "opacity": "100%",
                    "transform": "scale(1) rotateX(0deg)"
                });
            }, 1);
            toggleModal(oknoId, "minimalizujPrzycisk(" + oknoId + ")");

            setTimeout(function () {
                setClickState($przycisk, true);
            }, dlugoscAnimacji);
        }

        function minimalizujModal(oknoId) {
            if (typeof oknoId === 'undefined') {
                var oknoIdtoggleOkna = 1;
                $('[id^="okno"].pasekprzyciskOnScreen').each(function () {
                    minimalizujOkno(oknoIdtoggleOkna);
                    oknoIdtoggleOkna++;
                });
            } else {
                minimalizujOkno(oknoId);
            }
        }

        function minimalizujOkno(oknoId) {
            var $przycisk = $('[id^="oknoprzycisk' + oknoId + '"]');
            var $blok = $('[id^="okno' + oknoId + '"]');

            setClickState($przycisk, false);

            oknoXpos[oknoId] = $blok.position().left;
            oknoYpos[oknoId] = $blok.position().top;

            $blok.animate({
                left: $przycisk.position().left,
                top: 0
            }, dlugoscAnimacji);
            $blok.css({
                "opacity": "0%",
                "transform": "scale(0.5)"
            });
            $przycisk.removeClass("pasekprzyciskActive");
            $przycisk.removeClass("pasekprzyciskOnScreen");
            setClickState($blok, false);
            setTimeout(function () {
                $blok.hide();
            }, dlugoscAnimacji);
            toggleModal(oknoId, "przywrocPrzycisk(" + oknoId + ")");

            setTimeout(function () {
                setClickState($przycisk, true);
            }, dlugoscAnimacji);
        }

        function minimalizujPrzycisk(oknoId) {
            const $przycisk = $('[id^="oknoprzycisk' + oknoId + '"]');
            const $blok = $('[id^="okno' + oknoId + '"]');

            if ($blok.css("z-index") == zindex - 1) {
                minimalizujModal(oknoId);
                $przycisk.removeClass("pasekprzyciskOnScreen");
                toggleModal(oknoId, "przywrocPrzycisk(" + oknoId + ")");
                fokus(oknoId);
                $(".pasekprzycisk").removeClass("pasekprzyciskActive");
            }
            else {
                fokus(oknoId);
                $(".pasekprzycisk").removeClass("pasekprzyciskActive");
                $("#oknoprzycisk" + oknoId).addClass("pasekprzyciskActive");
            }
        }

        function przywrocPrzycisk(oknoId) {
            const $przycisk = $('[id^="oknoprzycisk' + oknoId + '"]');
            const $blok = $('[id^="okno' + oknoId + '"]');

            przywrocModal(oknoId);
            $przycisk.addClass("pasekprzyciskOnScreen");
            toggleModal(oknoId, "minimalizujPrzycisk(" + oknoId + ")");
        }

        $(document).ready(function () {
            $(document).on('contextmenu', function (e) {
                e.preventDefault();
            });
            otworzOkno("ustawienia.json");
        });

        function toggleOkna() {
            if ($(".pasekprzyciskOnScreen").length != 0) {
                minimalizujModal();
            }
            else {
                przywrocModal();
            }
        }

        function lightMode() {
            $('body').toggleClass('light');
            showNotification();
        }

        function showNotification() {
            var notification = $("#powiadomienie");
            notification.slideDown().delay(2000).slideUp();
        }

        function fokus(oknoId) {
            zindex += 1;
            $(".pasek").addClass("pasekBlur");
            $(".okno").removeClass("oknoActive");
            $(".pasekprzycisk").removeClass("pasekprzyciskActive");
            if (oknoId != 0) {
                $("#okno" + oknoId).css("z-index", zindex);
                $("#okno" + oknoId + " .pasek").removeClass("pasekBlur");
                $("#okno" + oknoId).addClass("oknoActive");
                $("#oknoprzycisk" + oknoId).addClass("pasekprzyciskActive");
            }
            else if (oknoId != -1) {
                $(".pasekzadan").css("z-index", zindex);
            }
        }

        $(document).ready(function () {
            $(".pulpit").on("contextmenu", function (event) {
                event.preventDefault();

                var posX = event.pageX;
                var posY = event.pageY;

                setTimeout(function () {
                    $(".context-menu").css({
                        "opacity": "0%"
                    });
                }, 1);

                $(".context-menu").hide();

                $("#context-menuPulpit").show();
                $("#context-menuPulpit").css({
                    "left": posX + "px",
                    "top": posY + "px",
                });

                setTimeout(function () {
                    $("#context-menuPulpit").css({
                        "opacity": "100%"
                    });
                }, 1);
            });

            $(document).on("mousedown", function (event) {
                if (!$(event.target).closest(".context-menu").length) {
                    setTimeout(function () {
                        $(".context-menu").css({
                            "opacity": "0%"
                        });
                    }, 1);

                    $(".context-menu").hide();
                }
            });
        });
    </script>
</head>

<body class="">
    <div class="pasekzadan" onmousedown="fokus(0)">
        <div class="pasekprzyciski"></div>
        <div class="zegar">
            <span id="godzina"></span>
            <span id="data"></span>
        </div>
        <div class="toggleOkna" title="Pokaż pulpit" onclick="toggleOkna()"></div>
    </div>

    <div class="pulpit" onmousedown="fokus(-1)">
        <div class="wersja">
            <a href="https://github.com/mrkusypl/KusOS" target="_blank"><img src="./kusOSlogo.png"
                    title="Przejdź na GitHub" alt="KusOS - logo" /></a><br />
            KusOS | Build 20231213_v0.30<br />
        </div>
    </div>

    <div class="context-menu" id="context-menuPulpit">
        <div class="przyciskMenu" onclick="otworzOkno('wystapilblad.json')">🛑 Otwórz okno "Wystąpił błąd"</div>
        <div class="przyciskMenu" onclick="otworzOkno('nieistniejacyplik.json')">🛑 Wywołaj błąd przy otwieraniu</div>
        <div class="przyciskMenu" onclick="otworzOkno('ustawienia.json')">⚙️ Otwórz okno "Ustawienia"</div>
        <div class="przyciskMenu" onclick="lightMode()">🖌️ Przełącz tryb jasny/ciemny</div>
    </div>

    <div id="powiadomienie" class="powiadomienie">
        Tryb jasny/ciemny został zmieniony!
    </div>

    <script>
        async function aktualizujDateGodzine() {
            var teraz = new Date();

            var godzina = teraz.getHours();
            godzina = (godzina < 10 ? "0" : "") + godzina;

            var minuta = teraz.getMinutes();
            minuta = (minuta < 10 ? "0" : "") + minuta;

            var sekunda = teraz.getSeconds();
            sekunda = (sekunda < 10 ? "0" : "") + sekunda;

            var dzien = teraz.getDate();
            dzien = (dzien < 10 ? "0" : "") + dzien;

            var miesiac = teraz.getMonth() + 1;
            miesiac = (miesiac < 10 ? "0" : "") + miesiac;

            var rok = teraz.getFullYear();

            var godzinaElement = $("#godzina");
            var dataElement = $("#data");

            godzinaElement.text(godzina + ":" + minuta + ":" + sekunda);
            dataElement.text(dzien + "." + miesiac + "." + rok);
        }

        setInterval(aktualizujDateGodzine, 1000);
        $(document).ready(function () {
            aktualizujDateGodzine();
        });
    </script>
</body>

</html>